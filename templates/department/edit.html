{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2>编辑部门</h2>
    <form method="POST" action="{{ url_for('edit_department', id=department.id) }}">
        <div class="form-group mb-3">
            <label for="company_id">所属公司</label>
            <select class="form-control" id="company_id" name="company_id" required>
                <option value="">请选择公司</option>
                {% for company in companies %}
                <option value="{{ company.id }}" {% if company.id == department.company_id %}selected{% endif %}>{{ company.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="code">部门编码</label>
            <input type="text" class="form-control" id="code" name="code" value="{{ department.code }}" required>
        </div>
        <div class="form-group">
            <label for="name">部门名称</label>
            <input type="text" class="form-control" id="name" name="name" value="{{ department.name }}" required>
        </div>
        <div class="form-group">
            <label for="manager">负责人</label>
            <input type="text" class="form-control" id="manager" name="manager" value="{{ department.manager }}">
        </div>
        <div class="form-group">
            <label for="phone">联系电话</label>
            <input type="text" class="form-control" id="phone" name="phone" value="{{ department.phone }}">
        </div>
        <button type="submit" class="btn btn-primary">保存</button>
        <a href="{{ url_for('list_departments') }}" class="btn btn-secondary">取消</a>
    </form>
</div>
{% endblock %}